<script>
    //Declarar los principales estados de los animales
    const animales = 1
    const felicidadAnimal = 4
    const alimentoAnimal = 3
    const establoAnimal = 2
    let opcion
    let acciones = 0

    let estadoEnfermo = false
    let estadoAnimal = ""
    let establoNombre = prompt("Dime que nombre quieres para tu establo")

    let numeroAnimales = 1


    //Variable, para saber que alimento va a dar
    //Mientras que el bool sea negativo, el bucle no para
    let darAlimento
    let repetir = false


    //Convertir Felicidad a emoji
    let textoFelicidad = []
    for (let i = 0; i < felicidadAnimal; i++) {
        textoFelicidad.push("わ")

    }
    //Convertir alimento a emoji
    let textoAlimento = []
    for (let i = 0; i < alimentoAnimal; i++) {
        textoAlimento.push("")
    }

    //Convertir establo a emoji
    let textoEstablo = []
    for (let i = 0; i < establoAnimal; i++) {
        textoEstablo.push("")
    }

    while (!repetir) {
        if (textoEstablo.length >= 4) {
            estadoEnfermo = true
            estadoAnimal = ""
            alert("Tus animales han enfermado ")
        }


        //Muestra la pantalla inicial
        alert("Felicidad: " + textoFelicidad + "\nAlimentos Disponibles: " + textoAlimento + "\nEstablo: " + textoEstablo
            + "\nEstado de Salud: " + estadoAnimal + "\nN潞 Animales: " + numeroAnimales)

        opcion = prompt("Felicidad: " + textoFelicidad + "\nAlimentos Disponibles: " + textoAlimento + "\nEstablo: " + textoEstablo
            + "\nEstado de Salud: " + estadoAnimal + "\nN潞 Animales: " + numeroAnimales + "\nElige una acci贸n: " + "\n1.  ALIMENTAR A LOS ANIMALES  " + "\n2. JUGAR CON LOS ANIMALES  "
            + "\n3. LIMPIAR EL ESTABLO  " + "\n4.  COMPRAR COMIDA  " + "\n5. ┖CURAR ANIMALES ┖ " + "\n6. 癸CONSULTAR INFORMACIN 癸 ")

        //Entra en la opci贸n "Alimentar animales"
        if (opcion == "1") {
            //Comprobaci贸n del "establo"
            if (textoEstablo.length <= 3) {
                darAlimento = prompt("Dime que opcion de alimento quieres dar: " + "\n1. Dar Forraje  " + "\n2. Dar Fruta ")
                if (darAlimento == "1") {
                    if (textoAlimento.length >= 1) {
                        textoAlimento.pop()
                        acciones += 1
                        numeroAnimales += Math.floor(Math.random() * 10) + 1
                        numeroAnimales -= Math.floor(Math.random() * 5) + 1

                        alert("Le has dado de comer Forraje ")


                    } else {
                        alert("No tienes comida disponible攫")
                    }


                } else if (darAlimento == "2") {
                    //Comprueba que haya comida disponible
                    if (textoAlimento.length >= 1 && estadoEnfermo == false) {
                        textoAlimento.pop()
                        acciones += 1
                        numeroAnimales += Math.floor(Math.random() * 10) + 1
                        numeroAnimales -= Math.floor(Math.random() * 5) + 1

                        //Comprueba que no supere el limite de "felicidad"
                        if (textoFelicidad.length < 4) {
                            textoFelicidad.push("わ")
                        }

                        alert("Le has dado de comer Fruta ")

                        //Si no hay comida, manda alert
                    } else {
                        alert("No tienes comida disponible o los animales enfermos no pueden comer fruta")
                    }
                }
                //alert, por si hay demasiado extiercol, caso "alimentar"
            } else {
                alert("No puedes alimentar a los animales, el entorno est谩 demasiado sucio")
            }

        } //Entra en la opci贸n "Jugar con los animales"
        else if (opcion == "2") {
            //Comprobaci贸n del "establo"
            if (textoEstablo.length <= 3 && estadoEnfermo == false) {
                //Comprueba que haya comida disponible
                if (textoAlimento.length >= 1) {
                    textoAlimento.pop()
                    acciones += 1
                    numeroAnimales += Math.floor(Math.random() * 10) + 1
                    numeroAnimales -= Math.floor(Math.random() * 5) + 1

                    //Comprueba que no supere el limite de "felicidad"
                    if (textoFelicidad.length < 4) {
                        textoFelicidad.push('わ')
                        textoFelicidad.join()
                    }
                    alert("Hemos jugado con los animales")

                    //Si no hay comida, manda alert
                } else {
                    alert("No tienes comida disponible")
                }

                //alert, por si hay demasiado extiercol, caso "jugar"
            } else {
                alert("No puedes jugar con los animales, ya que el ambiente es inadecuado o est谩n enfermos")
            }

        } //Entra en la opci贸n "Limpiar establo"
        else if (opcion == "3") {
            if (textoEstablo.length > 0) {
                while (textoEstablo.length > 0) {
                    textoEstablo.pop()
                }
                alert("Establo limpiadoЧ")
                acciones += 1
                numeroAnimales += Math.floor(Math.random() * 10) + 1
                numeroAnimales -= Math.floor(Math.random() * 5) + 1

            } else {
                alert("ЧTienes el establo limpio, no hace falta limpiarЧ")
            }
        } //Entra en la opci贸n "Comprar comida"
        else if (opcion == "4") {
            if (textoAlimento.length < 4) {
                while (textoAlimento.length < 4) {
                    textoAlimento.push("")
                }
                alert("Comida repuesta攫")
                acciones += 1
                numeroAnimales += Math.floor(Math.random() * 10) + 1
                numeroAnimales -= Math.floor(Math.random() * 5) + 1

            } else {
                alert("No puedes comprar m谩s comida, estas lleno")
            }

        }//Entra en la opci贸n "Curar Animales"
        else if (opcion == "5") {
            if (textoEstablo.length > 0) {
                alert("Necesitas tener el establo limpio para poder curarlosЧЧ")

            } else {
                if (estadoEnfermo == true) {
                    estadoEnfermo = false
                    estadoAnimal = ""
                    acciones += 1
                    alert("Tus animales ya est谩n curados ┕┕")
                    numeroAnimales += Math.floor(Math.random() * 10) + 1
                    numeroAnimales -= Math.floor(Math.random() * 5) + 1

                } else {
                    alert("Tus animales ya estaban saludables, no necesitan curaci贸n ")
                }
            }
        }//Entra en la opci贸n "Consultar informacion"
        else if (opcion == "6") {
            alert("Nombre del Establo: " + establoNombre + "\nN煤mero de animales: " + numeroAnimales)
        }

        //Cuando cuente 3 acciones, se suma 1 estiercol y -1 felicidad
        //A su vez, restablece el n潞 de acciones
        if (acciones == 3) {

            alert("Se suma (+) y se resta (-わ) x cada 3 Acciones")
            textoFelicidad.pop()
            acciones = 0

            //Mientras que no haya 6 extiercoles, se seguir谩 sumando
            if (textoEstablo.length < 6) {
                textoEstablo.push('')
            }
        }
        if (numeroAnimales <= 0 || numeroAnimales > 99) {
            repetir = true
        }
    }
</script>